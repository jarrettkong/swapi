(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n(60)},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),c=n.n(o),i=(n(29),n(4)),l=n(5),s=n(7),u=n(6),f=n(8),m=n(1),h=function(e){return fetch("https://swapi.co/api/".concat(e)).then(function(e){if(!e.ok)throw new Error("Unable to fetch data");return e.json()})},p=function(e){return fetch("https://swapi.co/api/films/".concat(e)).then(function(e){if(!e.ok)throw new Error("Unable to fetch film");return e.json()})},d=function(e){var t=e.map(function(e){return fetch(e.homeworld).then(function(e){if(!e.ok)throw new Error("Unable to fetch homeworld");return e.json()}).then(function(t){return Object(m.a)({},e,{homeworld:t})})});return Promise.all(t)},v=function(e){var t=e.map(function(e){return fetch(e.species[0]).then(function(e){if(!e.ok)throw new Error("Unable to fetch species");return e.json()}).then(function(t){return Object(m.a)({},e,{species:t})})});return Promise.all(t)},g=function(e){var t=e.map(function(e){return E(e.residents).then(function(t){return Object(m.a)({},e,{residents:t})})});return Promise.all(t)},E=function(e){var t=e.map(function(e){return fetch(e).then(function(e){if(!e.ok)throw new Error("Unable to fetch names");return e.json()}).then(function(e){return e.name})});return Promise.all(t)},b=(n(30),function(){return r.a.createElement("div",{className:"Loader-container"},r.a.createElement("div",{className:"Loader"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),w=(n(31),n(21)),C=n.n(w),O=(n(54),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={film:{},loading:!1,error:""},n.getMovie=function(){var e=Math.floor(7*Math.random())+1;return p(e).then(function(e){return n.setState({film:e,loading:!1})}).catch(function(e){return n.setState({error:e.message})})},n.getRomanNumeral=function(e){return["I","II","III","IV","V","VI","VII"][e-1]},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0},this.getMovie)}},{key:"render",value:function(){var e=this.state.film,t=e.opening_crawl,n=e.title,a=e.release_date,o=e.episode_id,c="Episode ".concat(this.getRomanNumeral(o)),i=this.state.loading?r.a.createElement(b,null):r.a.createElement("section",null,r.a.createElement(C.a,{title:c,subTitle:n,text:"".concat(t," | ").concat(a)}),r.a.createElement("button",{className:"OpeningCrawl-skip-btn",onClick:this.props.hideCrawl},"Hide Crawl"));return r.a.createElement("aside",{className:"OpeningCrawl"},i)}}]),t}(a.Component)),j=n(22),k=(n(55),function(e){return r.a.createElement("section",{className:"Options"},r.a.createElement("button",{name:"people",onClick:e.handleClick,className:"Options-btn people-option"},r.a.createElement("img",{src:"",alt:"people option logo",name:"people"})," People"),r.a.createElement("button",{name:"planets",onClick:e.handleClick,className:"Options-btn planets-option"},r.a.createElement("img",{src:"",alt:" planets option logo",name:"planets"})," Planets"),r.a.createElement("button",{name:"vehicles",onClick:e.handleClick,className:"Options-btn vehicles-option"},r.a.createElement("img",{src:"",alt:" vehicles option logo",name:"vehicles"})," Vehicles"))}),N=(n(56),function(e){var t=Object.keys(e.info),n=t.slice(2,t.length-1);return r.a.createElement("article",{className:"Card"},r.a.createElement("div",{className:"Card-header"},r.a.createElement("h3",{className:"Card-title"},e.info.Name),r.a.createElement("button",{className:"Card-favorite-btn",onClick:function(){return e.toggleFavorite(e.info.id)}},r.a.createElement("i",{className:"fab fa-rebel ".concat(e.info.favorite?"favorited":null)}))),r.a.createElement("hr",null),r.a.createElement("div",null,n.map(function(t,n){return r.a.createElement("p",{key:n,className:"Card-data"},r.a.createElement("span",{className:"Card-prop"},"".concat(t)),r.a.createElement("span",{className:"Card-value"},e.info[t]))})))}),y=(n(57),function(e){var t=e.results.map(function(t,n){return r.a.createElement(N,{key:n,info:t,toggleFavorite:e.toggleFavorite})});return r.a.createElement("section",{className:"CardArea"},t)}),S=function(e){return e.map(function(e){return{id:e.created,Name:e.name,Species:e.species.name,Homeworld:e.homeworld.name,"Population of Homeworld":e.homeworld.population,favorite:!1}})},P=function(e){return e.map(function(e){return{id:e.created,Name:e.name,Population:e.population,Climate:e.climate,Terrain:e.terrain,Residents:e.residents.join(", ")||"N/A",favorite:!1}})},I=function(e){return e.map(function(e){return{id:e.created,Name:e.name,Model:e.model,Class:e.vehicle_class,Passengers:e.passengers,favorite:!1}})},M=(n(58),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={results:{people:[],planets:[],vehicles:[],favorites:[]},error:"",loading:!1,category:""},n.handleClick=function(e){var t=e.target.name,a=n.state.results;n.setState({category:t,showFavorites:!1},function(){a[t].length||n.setState({loading:!0},function(){"people"===t?n.fetchPeople():"planets"===t?n.fetchPlanets():t&&n.fetchVehicles()})})},n.toggleFavorite=function(e){var t,a=n.state,r=a.results,o=r[a.category].find(function(t){return t.id===e});o.favorite=!o.favorite,t=o.favorite?[].concat(Object(j.a)(r.favorites),[o]):r.favorites.filter(function(t){return t.id!==e}),n.setState({results:Object(m.a)({},r,{favorites:t})},function(){localStorage.favorites=JSON.stringify(t)})},n.fetchPeople=function(){var e=n.state.results;h("people").then(function(e){return d(e.results)}).then(function(e){return v(e)}).then(function(e){return S(e)}).then(function(t){return n.setState({results:Object(m.a)({},e,{people:t}),loading:!1})}).catch(function(e){return n.setState({error:e})})},n.fetchPlanets=function(){var e=n.state.results;h("planets").then(function(e){return g(e.results)}).then(function(e){return P(e)}).then(function(t){return n.setState({results:Object(m.a)({},e,{planets:t}),loading:!1})}).catch(function(e){return n.setState({error:e})})},n.fetchVehicles=function(){var e=n.state.results;h("vehicles").then(function(e){return e.results}).then(function(e){return I(e)}).then(function(t){return n.setState({results:Object(m.a)({},e,{vehicles:t}),loading:!1})}).catch(function(e){return n.setState({error:e})})},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("favorites"))||[];this.setState({results:Object(m.a)({},this.state.results,{favorites:e})})}},{key:"render",value:function(){var e=this.state,t=e.category,n=e.results,a=e.loading?r.a.createElement("div",{className:"Main-loader-wrapper"},r.a.createElement(b,null)):t?r.a.createElement(y,{category:t,results:n[t],toggleFavorite:this.toggleFavorite}):r.a.createElement("h3",null,"Click a button to load some information");return r.a.createElement("main",{className:"Main"},r.a.createElement("nav",null,r.a.createElement("h1",{className:"Main-header"},r.a.createElement("img",{src:"",alt:"swapi-box logo"})),r.a.createElement(k,{handleClick:this.handleClick}),r.a.createElement("button",{className:"Options-btn",name:"favorites",onClick:this.handleClick},"Show ",n.favorites.length," Favorites")),a)}}]),t}(a.Component)),F=(n(59),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showCrawl:!1},n.hideCrawl=function(){n.setState({showCrawl:!1})},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({showCrawl:!0})}},{key:"render",value:function(){return r.a.createElement("section",{className:"App"},this.state.showCrawl?r.a.createElement(O,{hideCrawl:this.hideCrawl}):r.a.createElement(M,null))}}]),t}(a.Component));c.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.37ece014.chunk.js.map